<template>
  <!--table class="w3-table-all">
  <thead>
  <tr>
    <th>date</th>
    <th>Summary</th>
    <th>i</th>
  </tr>
  </thead>
  <tbody>
  <tr show.bind="showDatasets" class="w3-hover-green" repeat.for="item of alldatasets">
    <td>${item.date}</td>
    <td><idata></idata><a class="w3-hover-green" route-href="route: datasetdetail; params.bind: {datasetid:item.id}">${item.summary}</a></td>
    <td>${item.info}</td>
    <td>${item.projectId}</td>
  </tr>
  <tr if.bind="! showDatasets" class="w3-hover-green">
    <td>${selectedDataset.creation_date}</td>
    <td>${selectedDataset.name}</td>
    <td>${selectedDataset.summary}</td>
    <td>${selectedDataset.info}</td>
    <td>${selectedDataset.projectId}</td>
  </tr>
  </tbody>
</table-->
  <table class="w3-table-all">
    <thead show.bind="showDatasets">
    <tr>
      <th>date</th>
      <th>Summary</th>
      <th>i</th>
    </tr>
    </thead>
    <tbody>
    <tr if.bind="datasets.length == 0"><td colspan="3">No datasets available for this project</td></tr>
    <tr show.bind="! selectedDataset" class="w3-hover-green" repeat.for="item of datasets">
      <td>${item.creation_date}</td>
      <td><idata></idata><a class="w3-hover-green" click.trigger="selectDataset(item)" route-href="route: datasetdetail; params.bind: {datasetid:item.id}">${item.name}</a></td>
      <td><a class="w3-hover-green" click.trigger="selectDataset(item)" route-href="route: datasetdetail; params.bind: {datasetid:item.id}">${item.summary}</a></td>
      <td>${item.info}</td>
      <td>${item.projectId}</td>
      <td>
        <icopy href.bind="item.webdavurl"></icopy>
      </td>
    </tr>
    </div>
    <tr if.bind="selectedDataset" class="w3-hover-green">
      <td click.trigger="deselectDataset()">${selectedDataset.creation_date}</td>
      <td click.trigger="deselectDataset()"><idata></idata>${selectedDataset.name}</td>
      <td click.trigger="deselectDataset()">${selectedDataset.summary}</td>
      <td click.trigger="deselectDataset()">${selectedDataset.info}</td>
      <td style="white-space: nowrap;"><icopy href.bind="selectedDataset.webdavurl"></icopy>
      <ilink href.bind="selectedDataset.zip"></ilink>
      <iupload href.bind="selectedDataset.webdavurl"></iupload>
      </td>
      <td if.bind="selectedDataset.metadata" click.trigger="getMetadatas()" title="view metadata of dataset"><imetas></imetas></td>
      <td class="w3-red" if.bind="!selectedDataset.metadata" click.trigger="generateMetas()" title="metadata empty, generate metadata from files in dataset"><imetas></imetas></td>
      <td click.trigger="deleteDataset()"><idelete></idelete></td>
    </tr>
    </tbody>
  </table>
</template>

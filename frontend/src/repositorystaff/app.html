<template>
  <require from="../w3.css"></require>
  <require from="../navitem"></require>
  <div class="w3-margin">
    <navitem href="/">Home</navitem>
    <navitem href="/repository.html">Repository</navitem>
  </div>

    <div class="w3-white w3-margin w3-padding">
      <h3>Repository Staff</h3>
      <p>
Project input
        <input class="w3-input"/>

      </p>
      <p>Select the user, who's data will be uploaded:
      <table class="w3-table-all" draggable="true">
      <tr class="w3-hover-green" repeat.for="visitor of visitors"><td>${visitor}</td></tr>
    </table></p>
      <div class="w3-half w3-padding">
      <h4>Upload files</h4>
      <form>
      <table class="w3-table-all" drop.trigger="dropped($event)" ondragover="event.preventDefault();">
        <thead><tr><th>filename</th><th>date</th><th colspan="2">action</th></tr></thead>
        <tbody>
        <tr>
          <td><input class="w3-button" type="file" multiple="multiple" name="files[]" webkitdirectory="true" change.delegate="appendDir($event)" value.bind="uploaddir"/>
          <input class="w3-button" type="file" multiple="multiple" title="Select Files to Download" change.delegate="appendFiles($event)" value.bind="uploadfiles"/>
          <button disabled.bind="filestoupload.length == 0" class="w3-button w3-green" click.delegate="submitUpload()">Start Upload</button>
          </td>
          <td>Totally: ${filestoupload.length} files will be uploaded.</td>
        </tr>
        <tr class="w3-hover-green" repeat.for="item of filestoupload" click.trigger="selectItemToUpload(item)">
          <td>${item.name}</td>
          <td><button class="w3-button" title="delete" click.delegate="removeItemToUpload(item)">x</button></td>
        </tr>
        </tbody>
      </table>
      </form>
      </div>
      <div class="w3-half w3-padding">
      <h4>Existing files</h4>
      <table class="w3-table-all" >
        <thead><tr><th>filename</th><th>date</th><th colspan="2">action</th></tr></thead>
      <tr class="w3-hover-green" repeat.for="item of items" click.trigger="selectItem(item)">
        <td>${item.name}</td>
        <td>${item.date}</td>
        <td><button class="w3-button" title="delete">x</button></td>

      </tr>
      </tbody>
      </table>
      </div>


    </div>

</template>

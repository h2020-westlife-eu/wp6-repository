{"version":3,"sources":["app.js","environment.js","main.js","home/home.js","login/login.js","pickerclient/pickerclient.js","repository/app.js","repository/main.js","resources/index.js","scientist/repositorytovf.js","scientist/visitingscientist.js","staff/app.js","staff/main.js","staff/repositorystaff.js"],"names":["App","configureRouter","config","router","title","login","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Home","Login","Pickerclient","href","href2","vfurl","receiveMessage","console","log","e","data","mode","attached","window","addEventListener","filepicker","detached","removeEventListener","openfilewindow","popup","open","opendirwindow","map","route","name","moduleId","nav","Repositorytovf","items","date","summary","info","filestoupload","uploadfiles","uploaddir","selectingfiles","selectitem","item","submitfiles","unsubmitfiles","deleteitem","indexremoved","indexOf","splice","selectItemToUpload","removeItemToUpload","i","dropped","event","dataTransfer","files","stopPropagation","preventDefault","unshift","dragged","appendFiles","target","appendDir","submitUpload","Visitingscientist","httpclient","proposals","projectserviceurl","nexturl","location","showProposals","get","response","proposalsall","JSON","parse","slice","proposalslength","length","showallbutton","showmorebutton","catch","error","alert","statusCode","message","switchMoreLessProposals","selectProposal","selectedProposal","showAllProposals","inject","bind","test","document","cookie","pathname","Repositorystaff","visitors","selectinguser","selectedvisitor","client","serviceurl","selectvisitor","visitor","deselectvisitor"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n\n  configureRouter(config, router) {\n    config.title = 'West-Life Repository Router';\n  }\n\n  login() {\n    //window.location=\"login.html?next\"+window.location.pathname;\n  }\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Home {\n\n}\n","import {HttpClient} from 'aurelia-http-client';\n\nexport class Login {\n\n\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class Pickerclient {\n\n  @bindable mode;\n\n  constructor() {\n    this.href=\"https://portal.west-life.eu/virtualfolder/filepickercomponent.html\";\n    this.href2=\"https://portal.west-life.eu/virtualfolder/uploaddirpickercomponent.html\";\n    this.vfurl=\"\";\n    //receives message from popup window, fills target element with the data received\n    this.receiveMessage = e => {\n      console.log(\"received event\");\n      console.log(e);\n      this.vfurl=e.data;\n    }\n    console.log(\"Pickerclient()\");\n    console.log(this.mode)\n  }\n\n  attached() {\n    //registers itself to receive message from popup window\n    window.addEventListener(\"message\", this.receiveMessage);\n    console.log(\"Pickerclient attached()\");\n    console.log(this.mode);\n    this.filepicker = (this.mode === \"file\")\n  }\n\n  detached() {\n    window.removeEventListener(\"message\", this.receiveMessage)\n  }\n\n//opens popup window in defined location, sets the target element id.\n  openfilewindow() {\n    this.popup=window.open(this.href, 'newwindow', 'width=640, height=480');\n  }\n  opendirwindow() {\n    this.popup=window.open(this.href2, 'newwindow', 'width=640, height=480');\n  }\n}\n","export class App {\n\n  configureRouter(config, router) {\n    config.title = 'West-Life Repository Router';\n    config.map([\n      {route: ['', 'home'], name: 'home', moduleId: 'scientist/visitingscientist', nav: true, title: 'Dataset Dashboard'},\n      {route: 'repositorytovf', name: 'repositorytovf', moduleId: 'scientist/repositorytovf', nav: true, title: 'Upload to Virtual Folder'},\n    ]);\n    this.router = router;\n  }\n\n  login() {\n    //window.location=\"login.html?next\"+window.location.pathname;\n  }\n\n}\n","import environment from '../environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {HttpClient} from 'aurelia-http-client';\n\nexport class Repositorytovf {\n\n  constructor() {\n    console.log(\"Repositorytovf()\");\n\n    this.items=[{date:\"06/09/2017\",summary:\"spectrum of strychnine process with v_noesy_pro.mac (NUTS-Pro) or v_noesy.mac (NUTS-2D)\", info:\"1.6 Mb\"},\n      {date:\"07/09/2017\",summary:\" spectrum of sucrose (1.3 Mbytes); process with v_ghsqc_pro.mac (NUTS-Pro) or v_ghsqc.mac (NUTS-2D)\", info:\"1.3 Mb\"},\n      {date:\"08/09/2017\",summary:\"spectrum of strychnine (2.1 Mbytes); process with v_hsqc_pro.mac (NUTS-Pro) or v_hsqc.mac (NUTS-2D).\", info:\"2.1 Mb\"},\n    ]\n    this.filestoupload=[];\n    this.uploadfiles=[];\n    this.uploaddir=\"\";\n    this.selectingfiles=true;\n  }\n\n  attached() {\n\n  }\n\n  selectitem(item) {\n    console.log(\"Selected\",item)\n  }\n\n  submitfiles() {\n    this.selectingfiles=false;\n  }\n\n  unsubmitfiles(){\n    this.selectingfiles=true;\n  }\n  deleteitem(item){\n    let indexremoved = this.items.indexOf(item);\n    if (indexremoved >=0 ) this.items.splice(indexremoved,1);\n  }\n\n  selectItemToUpload(item) {\n    console.log(\"selected item\");\n    console.log(item);\n  }\n\n  removeItemToUpload(item){\n    console.log(\"selected item\");\n    console.log(item);\n    let i = this.filestoupload.indexOf(item);\n    this.filestoupload.splice(i,1);\n  }\n\n  dropped(event){\n    console.log(\"Dropped\")\n    console.log(event.dataTransfer.files);\n    event.stopPropagation();\n    event.preventDefault();\n    this.filestoupload.unshift(...event.dataTransfer.files);\n    return true;\n  }\n\n  dragged(event){\n    return true;//event.preventDefault(); event.dataTransfer.dropEffect = 'copy';\n  }\n\n  appendFiles(event){\n    console.log(\"appendFiles()\");\n    console.log(event.target.files);\n    //this.uploadfiles=event.target.files;\n    this.filestoupload.unshift(...event.target.files);\n    //else this.filestoupload.unshift(event.target.files);\n  }\n\n  appendDir(event) {\n    console.log(\"appendDir\")\n    console.log(event.target.files);\n    this.filestoupload.unshift(...event.target.files)\n  }\n\n  submitUpload(){\n    //TODO fake implementation\n    this.items.unshift(...this.filestoupload);\n    this.filestoupload=[];\n  }\n\n}\n","import {HttpClient} from 'aurelia-http-client';\n\nexport class Visitingscientist {\n  static inject = [HttpClient];\n  constructor(httpclient) {\n    this.httpclient=httpclient;\n    console.log(\"VisitingScientist()\");\n    this.proposals = [];/*[\n      {\n        \"pid\": \"1582\",\n        \"title\": \"API Test with Crystallisation and MX beamtime for strychnine\",\n        \"statusID\": \"5\",\n        \"status\": \"Approved\",\n        \"submitted\": \"1454583055\",\n        \"display\": \"PID: 1582 - API Test with Crystallisation and MX beamtime for strychnine\"\n      },\n      {\n        \"pid\": \"1586\",\n        \"title\": \"API Test with Crystallisation and MX beamtime for acetylcholine\",\n        \"statusID\": \"3\",\n        \"status\": \"Pending\",\n        \"submitted\": \"1454583056\",\n        \"display\": \"PID: 1586 - API Test with Crystallisation and MX beamtime for acetylcholine\"\n      }\n    ];*/\n    this.items=[];/*{date:\"06/09/2017\",summary:\"spectrum of strychnine process with v_noesy_pro.mac (NUTS-Pro) or v_noesy.mac (NUTS-2D)\", info:\"1.6 Mb\"},\n      {date:\"07/09/2017\",summary:\" spectrum of sucrose (1.3 Mbytes); process with v_ghsqc_pro.mac (NUTS-Pro) or v_ghsqc.mac (NUTS-2D)\", info:\"1.3 Mb\"},\n      {date:\"08/09/2017\",summary:\"spectrum of strychnine (2.1 Mbytes); process with v_hsqc_pro.mac (NUTS-Pro) or v_hsqc.mac (NUTS-2D).\", info:\"2.1 Mb\"},\n    ]*/\n    this.projectserviceurl=\"/restcon/project\"\n    this.nexturl = window.location;\n    this.showProposals=true;\n\n  }\n  attached() {\n    console.log(\"VisitingScientist atached()\")\n    console.log(this.nexturl);\n    this.httpclient.get(this.projectserviceurl)\n      .then(data => {\n        console.log(data);\n        if (data.response) {\n          this.proposalsall = JSON.parse(data.response);\n          this.proposals = this.proposalsall.slice(0,3);\n          this.proposalslength= this.proposalsall.length;\n          this.showallbutton = this.proposalsall.length > 3;\n          this.showmorebutton = true;\n        }\n      })\n      .catch(error => {\n        //console.log(error);\n          console.log(error);\n          alert(\"Sorry, error:\"+error.statusCode+\" \"+error.message);\n\n\n      });\n  }\n  switchMoreLessProposals() {\n    if (this.showmorebutton) {\n      this.proposals = this.proposalsall;\n      this.showmorebutton = false;\n    } else {\n      this.proposals = this.proposalsall.slice(0,3);\n      this.showmorebutton = true;\n    }\n  }\n  selectProposal(item) {\n    console.log(item);\n    this.selectedProposal=item;\n    this.showProposals=false;\n  }\n  showAllProposals(){\n    this.showProposals=true;\n  }\n}\n","export class App {\n\n  configureRouter(config, router) {\n    config.title = 'West-Life Repository Router';\n    config.map([\n      {route: ['', 'home'], name: 'home', moduleId: 'staff/repositorystaff', nav: true, title: 'Dataset Dashboard'}\n    ]);\n    this.router = router;\n\n  }\n\n  bind() {\n    if (/(^|;)\\s*JSESSIONID=/.test(document.cookie)) {\n      //alert(\"Hello again!\");\n      console.log(\"User probably logged in\")\n    } else {\n      window.location=\"/login.html?next\"+window.location.pathname;\n    }\n  }\n\n}\n","import environment from '../environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {HttpClient} from 'aurelia-http-client';\n\nexport class Repositorystaff {\n  static inject = [HttpClient];\n  constructor(httpclient) {\n    console.log(\"Repositorystaff()\");\n    this.visitors = [];//\"Tomas Kulhanek\",\"Andrea Giacchieti\",\"Antonio Rosatto\"];\n    this.items=[{date:\"06/09/2017\",summary:\"spectrum of strychnine process with v_noesy_pro.mac (NUTS-Pro) or v_noesy.mac (NUTS-2D)\", info:\"1.6 Mb\"},\n      {date:\"07/09/2017\",summary:\" spectrum of sucrose (1.3 Mbytes); process with v_ghsqc_pro.mac (NUTS-Pro) or v_ghsqc.mac (NUTS-2D)\", info:\"1.3 Mb\"},\n      {date:\"08/09/2017\",summary:\"spectrum of strychnine (2.1 Mbytes); process with v_hsqc_pro.mac (NUTS-Pro) or v_hsqc.mac (NUTS-2D).\", info:\"2.1 Mb\"},\n    ]\n    this.filestoupload=[];\n    this.uploadfiles=[];\n    this.uploaddir=\"\";\n    this.selectinguser=true;\n    this.selectedvisitor=\"\";\n    this.client =httpclient;\n    this.serviceurl=\"/restcon/users\"\n  }\n\n  attached() {\n    this.httpclient.get(this.serviceurl)\n      .then(data => {\n        //console.log(data);\n        if (data.response) {\n          this.visitors = JSON.parse(data.response);\n        }\n      })\n      .catch(error => {\n        //console.log(error);\n        console.log(error);\n        alert(\"Sorry, error:\"+error.statusCode+\" \"+error.message);\n      });\n  }\n\n  selectitem(item) {\n    console.log(\"Selected\",item)\n  }\n\n  selectvisitor(visitor) {\n    this.selectinguser=false;\n    this.selectedvisitor = visitor;\n  }\n  deselectvisitor(){\n    this.selectinguser=true;\n  }\n  deleteitem(item){\n    let indexremoved = this.items.indexOf(item);\n    if (indexremoved >=0 ) this.items.splice(indexremoved,1);\n  }\n  \n    selectItemToUpload(item) {\n    console.log(\"selected item\");\n    console.log(item);\n  }\n\n  removeItemToUpload(item){\n    console.log(\"selected item\");\n    console.log(item);\n  let i = this.filestoupload.indexOf(item);\n    this.filestoupload.splice(i,1);\n  }\n\n  dropped(event){\n    console.log(\"Dropped\")\n    console.log(event.dataTransfer.files);\n    event.stopPropagation();\n    event.preventDefault();\n    this.filestoupload.unshift(...event.dataTransfer.files);\n    return true;\n  }\n\n  dragged(event){\n    return true;//event.preventDefault(); event.dataTransfer.dropEffect = 'copy';\n  }\n\n  appendFiles(event){\n    console.log(\"appendFiles()\");\n    console.log(event.target.files);\n    //this.uploadfiles=event.target.files;\n    this.filestoupload.unshift(...event.target.files);\n    //else this.filestoupload.unshift(event.target.files);\n  }\n\n  appendDir(event) {\n    console.log(\"appendDir\")\n    console.log(event.target.files);\n    this.filestoupload.unshift(...event.target.files)\n  }\n\n  submitUpload(){\n    //TODO fake implementation\n    this.items.unshift(...this.filestoupload);\n    this.filestoupload=[];\n  }\n\n}\n"],"sourceRoot":"../src"}